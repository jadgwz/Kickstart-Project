# Generated by Anaconda 40.22.3
# Generated by pykickstart v3.52
#version=DEVEL
# Accept EULA
eula --agree

# Use graphical install
graphical

# Additional Repository
repo --name="fedora" --baseurl="https://dl.fedoraproject.org/pub/fedora/linux/releases/40/Everything/x86_64/os"

# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'
# System language
lang en_US.UTF-8

%packages
@^server-product-environment
@container-management
@guest-agents
@headless-management
@server-hardware-support

openssh-server
chrony
docker
docker-compose
samba
nfs-utils
rsync
httpd
mariadb-server
git
gcc
make
python3
firewalld
cockpit
nano
wget
curl
zip
unzip

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.9.1
ignoredisk --only-use=sda
# System bootloader configuration
bootloader --location=mbr --boot-drive=sda
autopart
# Partition clearing information
clearpart --none --initlabel

# System timezone
timezone Asia/Kuala_Lumpur --utc

# Root password (Password is "redhat")
rootpw --iscrypted --allow-ssh $y$j9T$c.3FeXWfCzOOE3lM39Gmt1Eg$YOc4D6Qncdwa0Tp5PDBFg1fhUqRX0FlEl.txIS.ueY4

# Post-Installation Script
%post
# Enable necessary services
systemctl enable sshd
systemctl enable chronyd
systemctl enable firewalld

# Complete
echo "Kickstart script has completed" > /root/kickstart_done

shutdown

%end
